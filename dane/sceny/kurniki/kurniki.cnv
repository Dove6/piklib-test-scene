OBJECT=CALLBACK_TIMER_ROUTINE
CALLBACK_TIMER_ROUTINE:TYPE=STRING

OBJECT=CALLBACK_TIMER
CALLBACK_TIMER:TYPE=TIMER
CALLBACK_TIMER:ENABLED=TRUE
CALLBACK_TIMER:ELAPSE=100
CALLBACK_TIMER:TICKS=1
CALLBACK_TIMER:ONTICK^1={ /
    CALLBACK_TIMER^RESET(); /
    CALLBACK_TIMER^ENABLE(); /
    @IF(ROUTINE_TO_CALL, "!_", NULL, "{CALLBACK_TIMER_ROUTINE^SET(ROUTINE_TO_CALL); ROUTINE_TO_CALL^SET(NULL); *CALLBACK_TIMER_ROUTINE^RUN();}", ""); /
}

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYDOWN={ /
    @IF(KEYBOARD^GETLATESTKEY(), "_", "ESC", "{EPISODE^GOTO("MENU"); TEXTBOX_BREAK^RUN(); }", ""); /
}

OBJECT=OVERLAY
OVERLAY:TYPE=IMAGE
OVERLAY:VISIBLE=TRUE
OVERLAY:FILENAME=OVERLAY.IMG
OVERLAY:TOCANVAS=TRUE
OVERLAY:PRIORITY=800

OBJECT=IMGPODWORKO
IMGPODWORKO:TYPE=IMAGE
IMGPODWORKO:VISIBLE=TRUE
IMGPODWORKO:FILENAME=PODWORKO.IMG
IMGPODWORKO:TOCANVAS=TRUE
IMGPODWORKO:PRIORITY=999
IMGPODWORKO:PRELOAD=TRUE
IMGPODWORKO:RELEASE=TRUE
IMGPODWORKO:MONITORCOLLISION=FALSE
IMGPODWORKO:MONITORCOLLISIONALPHA=FALSE

OBJECT=BUTTONPODWORKO
BUTTONPODWORKO:TYPE=BUTTON
BUTTONPODWORKO:VISIBLE=TRUE
BUTTONPODWORKO:RECT=240,550,640,600
BUTTONPODWORKO:ENABLE=TRUE
BUTTONPODWORKO:DRAGGABLE=FALSE
BUTTONPODWORKO:GFXONMOVE=IMGPODWORKO
BUTTONPODWORKO:ONCLICKED={EPISODE^GOTO("PODWORKO");}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ /
    ARRAYPRZEDMIOTY^REMOVEALL(); /
    ARRAYPRZEDMIOTY^ADD("KOLOWROTEK"); /
    ARRAYPRZEDMIOTY^ADD("BUTELKA1"); /
    ARRAYPRZEDMIOTY^ADD("GRABIE"); /
    ARRAYPRZEDMIOTY^ADD("PRZETYKACZKA"); /
    ARRAYPRZEDMIOTY^ADD("WIADRO"); /
    ARRAYPRZEDMIOTY^ADD("PULPIT"); /
    BEHINITSCENE^RUN("KURNIKI"); /
    @IF(KURNIKI_VISITED, "!_", TRUE, "KURNIKI_FIRST_ENTER", ""); /
}

OBJECT=KURNIKI_FIRST_ENTER
KURNIKI_FIRST_ENTER:TYPE=BEHAVIOUR
KURNIKI_FIRST_ENTER:CODE={ /
    KURNIKI_VISITED^SET(TRUE); /
    SAY^RUN("INTRO\KURNIKI"); /
}

OBJECT=STARTBUDOWA
STARTBUDOWA:TYPE=BEHAVIOUR
STARTBUDOWA:CODE={ /
    ; /
}

OBJECT=START_SIGMALIS
START_SIGMALIS:TYPE=BEHAVIOUR
START_SIGMALIS:CODE={ /
    EPISODE^GOTO("SIGMALIS"); /
}

OBJECT=START_WRITING
START_WRITING:TYPE=BEHAVIOUR
START_WRITING:CODE={ /
    EPISODE^GOTO("PISANIE"); /
}

OBJECT=START_ANGLING
START_ANGLING:TYPE=BEHAVIOUR
START_ANGLING:CODE={ /
    EPISODE^GOTO("CNVANIE"); /
}

OBJECT=CALLBACK_TIMER_ROUTINE
CALLBACK_TIMER_ROUTINE:TYPE=STRING

OBJECT=CALLBACK_TIMER
CALLBACK_TIMER:TYPE=TIMER
CALLBACK_TIMER:ENABLED=TRUE
CALLBACK_TIMER:ELAPSE=100
CALLBACK_TIMER:TICKS=1
CALLBACK_TIMER:ONTICK^1={ /
    CALLBACK_TIMER^RESET(); /
    CALLBACK_TIMER^ENABLE(); /
    @IF(ROUTINE_TO_CALL, "!_", NULL, "{CALLBACK_TIMER_ROUTINE^SET(ROUTINE_TO_CALL); ROUTINE_TO_CALL^SET(NULL); *CALLBACK_TIMER_ROUTINE^RUN();}", ""); /
}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ /
    BEHINITCUTSCENE^RUN("MENU"); /
    SAY^RUN("MENU"); /
}

OBJECT=START_NEW_GAME
START_NEW_GAME:TYPE=BEHAVIOUR
START_NEW_GAME:CODE={ /
    BEHRESETROZDZIAL^RUN(); /
    EPISODE^GOTO("INTRO"); /
}

OBJECT=CONTINUE_GAME
CONTINUE_GAME:TYPE=BEHAVIOUR
CONTINUE_GAME:CODE={ /
    EPISODE^GOTO(LAST_SCENE_NAME); /
}

OBJECT=EXIT_GAME
EXIT_GAME:TYPE=BEHAVIOUR
EXIT_GAME:CODE={ /
    APPLICATION^EXIT(); /
}

OBJECT=CALLBACK_TIMER_ROUTINE
CALLBACK_TIMER_ROUTINE:TYPE=STRING

OBJECT=CALLBACK_TIMER
CALLBACK_TIMER:TYPE=TIMER
CALLBACK_TIMER:ENABLED=TRUE
CALLBACK_TIMER:ELAPSE=100
CALLBACK_TIMER:TICKS=1
CALLBACK_TIMER:ONTICK^1={ /
    CALLBACK_TIMER^RESET(); /
    CALLBACK_TIMER^ENABLE(); /
    @IF(ROUTINE_TO_CALL, "!_", NULL, "{CALLBACK_TIMER_ROUTINE^SET(ROUTINE_TO_CALL); ROUTINE_TO_CALL^SET(NULL); *CALLBACK_TIMER_ROUTINE^RUN();}", ""); /
}

OBJECT=KEYBOARD
KEYBOARD:TYPE=KEYBOARD
KEYBOARD:ONKEYDOWN={ /
    @IF(KEYBOARD^GETLATESTKEY(), "_", "ESC", "{EPISODE^GOTO("MENU"); TEXTBOX_BREAK^RUN(); }", ""); /
}

OBJECT=IMGWARSZTAT
IMGWARSZTAT:TYPE=IMAGE
IMGWARSZTAT:VISIBLE=TRUE
IMGWARSZTAT:FILENAME=WARSZTAT.IMG
IMGWARSZTAT:TOCANVAS=TRUE
IMGWARSZTAT:PRIORITY=999
IMGWARSZTAT:PRELOAD=TRUE
IMGWARSZTAT:RELEASE=TRUE
IMGWARSZTAT:MONITORCOLLISION=FALSE
IMGWARSZTAT:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGSTAW
IMGSTAW:TYPE=IMAGE
IMGSTAW:VISIBLE=TRUE
IMGSTAW:FILENAME=STAW.IMG
IMGSTAW:TOCANVAS=TRUE
IMGSTAW:PRIORITY=999
IMGSTAW:PRELOAD=TRUE
IMGSTAW:RELEASE=TRUE
IMGSTAW:MONITORCOLLISION=FALSE
IMGSTAW:MONITORCOLLISIONALPHA=FALSE

OBJECT=IMGKURNIKI
IMGKURNIKI:TYPE=IMAGE
IMGKURNIKI:VISIBLE=TRUE
IMGKURNIKI:FILENAME=KURNIKI.IMG
IMGKURNIKI:TOCANVAS=TRUE
IMGKURNIKI:PRIORITY=0
IMGKURNIKI:PRELOAD=TRUE
IMGKURNIKI:RELEASE=TRUE
IMGKURNIKI:MONITORCOLLISION=FALSE
IMGKURNIKI:MONITORCOLLISIONALPHA=FALSE

OBJECT=BUTTONKURNIK
BUTTONKURNIK:TYPE=BUTTON
BUTTONKURNIK:VISIBLE=TRUE
BUTTONKURNIK:RECT=180,200,300,350
BUTTONKURNIK:ENABLE=TRUE
BUTTONKURNIK:DRAGGABLE=FALSE
BUTTONKURNIK:GFXONMOVE=IMGKURNIKI
BUTTONKURNIK:ONCLICKED={EPISODE^GOTO("KURNIKI");}

OBJECT=BUTTONWARSZTAT
BUTTONWARSZTAT:TYPE=BUTTON
BUTTONWARSZTAT:VISIBLE=TRUE
BUTTONWARSZTAT:RECT=620,150,750,400
BUTTONWARSZTAT:ENABLE=TRUE
BUTTONWARSZTAT:DRAGGABLE=FALSE
BUTTONWARSZTAT:GFXONMOVE=IMGWARSZTAT
BUTTONWARSZTAT:ONCLICKED={EPISODE^GOTO("WARSZTAT");}

OBJECT=BUTTONSTAW
BUTTONSTAW:TYPE=BUTTON
BUTTONSTAW:VISIBLE=TRUE
BUTTONSTAW:RECT=650,515,730,585
BUTTONSTAW:ENABLE=TRUE
BUTTONSTAW:DRAGGABLE=FALSE
BUTTONSTAW:GFXONMOVE=IMGSTAW
BUTTONSTAW:ONCLICKED={EPISODE^GOTO("STAW");}

OBJECT=__INIT__
__INIT__:TYPE=BEHAVIOUR
__INIT__:CODE={ /
    ARRAYPRZEDMIOTY^REMOVEALL(); /
    ARRAYPRZEDMIOTY^ADD("BALIA"); /
    ARRAYPRZEDMIOTY^ADD("BECZKA"); /
    ARRAYPRZEDMIOTY^ADD("OGRODOWAZ"); /
    ARRAYPRZEDMIOTY^ADD("ANTENA"); /
    ARRAYPRZEDMIOTY^ADD("BUTELKA3"); /
    ARRAYPRZEDMIOTY^ADD("KATOMIERZ"); /
    ARRAYPRZEDMIOTY^ADD("KONEWKA"); /
    ARRAYPRZEDMIOTY^ADD("WIOSLO"); /
    BEHINITSCENE^RUN("PODWORKO"); /
    @IF(PODWORKO_VISITED, "!_", TRUE, "PODWORKO_FIRST_ENTER", ""); /
}

OBJECT=PODWORKO_FIRST_ENTER
PODWORKO_FIRST_ENTER:TYPE=BEHAVIOUR
PODWORKO_FIRST_ENTER:CODE={ /
    PODWORKO_VISITED^SET(TRUE); /
    SAY^RUN("INTRO\PODWORKO"); /
}
